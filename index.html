<!DOCTYPE html>
<html lang="vi">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;600&display=swap" rel="stylesheet">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Một điều dành cho bạn</title>

<style>
body{
  margin:0;
  height:100vh;
  overflow:hidden;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  font-family:'Be Vietnam Pro', sans-serif;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  padding-top:12vh;
  color:#222;
}

/* nền sao */
.star{
  position:absolute;
  width:4px;
  height:4px;
  background:white;
  border-radius:50%;
  opacity:0.7;
  animation:fall linear infinite;
}

@keyframes fall{
  from{transform:translateY(-10vh);}
  to{transform:translateY(110vh);}
}

.container{
  text-align:center;
  z-index:2;
  padding:20px;
}

.heart{
  font-size:80px;
  cursor:pointer;
  animation:beat 1s infinite;
}

@keyframes beat{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.2);}
}

#message{
  margin-top:25px;
  font-size:22px;
  line-height:1.6;
  max-width:90vw;
  min-height:120px;
}

/* con trỏ nhấp nháy */
.cursor{
  display:inline-block;
  width:10px;
  background:white;
  margin-left:5px;
  animation:blink 1s infinite;
}
@keyframes blink{50%{opacity:0;}}

@media(max-width:600px){
  .heart{font-size:70px;}
  #message{font-size:20px;}
}
  .decor{
  position:absolute;
  pointer-events:none;
  user-select:none;
  z-index:1;
}

/* góc trái trên */
.decor2{
  top:20px;
  left:20px;
  width:150px;
  opacity:0.9;
}

/* góc phải dưới */
.decor1{
  bottom:30px;
  right:30px;
  width:170px;
  opacity:0.8;
}

.decor1{
  bottom:30px;
  left:20px;
  width:170px;
  opacity:0.8;
}
/* góc phải trên */
.decor3{
  top:40px;
  right:40px;
  width:130px;
  opacity:0.7;
}

/* tối ưu điện thoại */
@media(max-width:600px){
  .decor1{width:120px;}
  .decor2{width:150px;}
  .decor3{width:120px;}
}

</style>
</head>

<body>
<img src="flower.gif" class="decor decor1">
<img src="sun.gif" class="decor decor2">
<img src="cloud.gif" class="decor decor3">

<div class="container">
  <div class="heart" onclick="startStory()">❤️</div>
  <div id="message"></div>
</div>

<audio id="bgm" loop preload="auto"></audio>

<script>

/* ====== lời chúc ====== */
const LINES = [
"Chào em,",
"Có một điều nhỏ muốn gửi đến em hôm nay...",
"Cảm ơn vì em đã xuất hiện",
"Và làm cho những ngày bình thường trở nên đặc biệt hơn",
"Chúc em luôn vui vẻ",
"Gặp nhiều điều may mắn",
"Và luôn mỉm cười thật tươi nhé!"
"  "
"P.S: Nhớ check ngăn kéo bàn nha"
];

/* ====== phát nhạc ====== */
function playMusic(){
  const audio = document.getElementById("bgm");
  if(!audio.src) audio.src="music.mp3";
  audio.play();
}

/* ====== hiệu ứng đánh chữ ====== */
const box = document.getElementById("message");

async function typeLine(text){
  return new Promise(resolve=>{
    let i=0;
    const line=document.createElement("div");
    box.appendChild(line);

    const cursor=document.createElement("span");
    cursor.className="cursor";
    line.appendChild(cursor);

    const interval=setInterval(()=>{
      line.insertBefore(document.createTextNode(text[i]),cursor);
      i++;
      if(i>=text.length){
        clearInterval(interval);
        cursor.remove();
        setTimeout(resolve,700);
      }
    },35);
  });
}

/* ====== bắt đầu ====== */
let started=false;

async function startStory(){
  if(started) return;
  started=true;

  document.querySelector(".heart").style.display="none";
  playMusic();

  for(const line of LINES){
    await typeLine(line);
  }
}

/* ====== tạo sao rơi ====== */
for(let i=0;i<40;i++){
  const s=document.createElement("div");
  s.className="star";
  s.style.left=Math.random()*100+"vw";
  s.style.animationDuration=(3+Math.random()*5)+"s";
  s.style.opacity=Math.random();
  document.body.appendChild(s);
}

</script>

</body>
</h

